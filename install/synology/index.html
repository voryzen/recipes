
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Tandoor Recipe Documentation">
      
      
        <meta name="author" content="vabene1111">
      
      
      
        <link rel="prev" href="../unraid/">
      
      
        <link rel="next" href="../kubernetes/">
      
      
      <link rel="icon" href="../../logo_color.svg">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.5">
    
    
      
        <title>Synology - Tandoor Recipes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#instructions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tandoor Recipes" class="md-header__button md-logo" aria-label="Tandoor Recipes" data-md-component="logo">
      
  <img src="../../logo_color.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tandoor Recipes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Synology
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/vabene1111/recipes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tandoor Recipes" class="md-nav__button md-logo" aria-label="Tandoor Recipes" data-md-component="logo">
      
  <img src="../../logo_color.svg" alt="logo">

    </a>
    Tandoor Recipes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/vabene1111/recipes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../unraid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unraid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Synology
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Synology
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#instructions" class="md-nav__link">
    Instructions
  </a>
  
    <nav class="md-nav" aria-label="Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-login-to-synology-dsm-through-your-browser" class="md-nav__link">
    1. Login to Synology DSM through your browser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-download-templates" class="md-nav__link">
    2. Download templates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-edit-docker-composeyml" class="md-nav__link">
    3. Edit docker-compose.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-ssh-into-your-synology" class="md-nav__link">
    4. SSH into your Synology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-firewall" class="md-nav__link">
    5. Firewall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-additional-ssl-setup" class="md-nav__link">
    6. Additional SSL Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../kubesail/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    KubeSail or PiBox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../truenas_portainer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TrueNAS Portainer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../wsl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WSL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../other/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Other setups
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../features/templating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templating
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../features/shopping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shopping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../features/authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../features/automation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../features/external_recipes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storages and Sync
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../features/import_export/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Import/Export
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../system/updating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../system/permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permission System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../system/backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#instructions" class="md-nav__link">
    Instructions
  </a>
  
    <nav class="md-nav" aria-label="Instructions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-login-to-synology-dsm-through-your-browser" class="md-nav__link">
    1. Login to Synology DSM through your browser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-download-templates" class="md-nav__link">
    2. Download templates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-edit-docker-composeyml" class="md-nav__link">
    3. Edit docker-compose.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-ssh-into-your-synology" class="md-nav__link">
    4. SSH into your Synology
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-firewall" class="md-nav__link">
    5. Firewall
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-additional-ssl-setup" class="md-nav__link">
    6. Additional SSL Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Synology</h1>

<div class="admonition info">
<p class="admonition-title">Community Contributed</p>
<p>This guide was contributed by the community and is neither officially supported, nor updated or tested.</p>
</div>
<p>Many people appear to host this application on their Synology NAS. The following documentation was provided by 
@therealschimmi in <a href="https://github.com/vabene1111/recipes/issues/98#issuecomment-643062907">this issue discussion</a>.</p>
<p>There is also this 
(<a href="https://github.com/vabene1111/recipes/files/6708738/Tandoor.on.a.Synology.Disk.Station.docx">word</a>, 
<a href="https://github.com/vabene1111/recipes/files/6901601/Tandoor.on.a.Synology.Disk.Station.pdf">pdf</a>) awesome and 
very detailed guide provided by @DiversityBug.</p>
<p>There are, as always, most likely other ways to do this but this can be used as a starting point for your 
setup. Since I cannot test it myself feedback and improvements are always very welcome.</p>
<h2 id="instructions"><strong>Instructions</strong></h2>
<p>Basic guide to setup <code>vabenee1111/recipes</code> docker container on Synology NAS.</p>
<h3 id="1-login-to-synology-dsm-through-your-browser">1. Login to Synology DSM through your browser</h3>
<ul>
<li>Install Docker through package center</li>
<li>Optional: Create a shared folder for your docker projects, they have to store data somewhere outside the containers</li>
<li>Create a folder somewhere, I suggest naming it 'recipes' and storing it in the dedicated docker folder</li>
<li>Within, create the necessary folder structure. You will need these folders:</li>
</ul>
<p><img alt="grafik" src="https://user-images.githubusercontent.com/66269214/84472395-63042580-ac87-11ea-8779-37555210e47a.png" /></p>
<h3 id="2-download-templates">2. Download templates</h3>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>vabene1111 gives you a few samples for various setups to work with. I chose to use the plain setup for now.</p>
</div>
<ul>
<li>Open https://github.com/vabene1111/recipes/tree/develop/docs/install/docker (<a href="https://github.com/vabene1111/recipes/tree/develop/docs/install/docker">link</a>)</li>
<li>Download docker-compose.yml to your recipes folder (<a href="https://github.com/TandoorRecipes/recipes/raw/develop/docs/install/docker/plain/docker-compose.yml">direct link to plain</a>)</li>
<li>Open https://github.com/vabene1111/recipes/tree/develop/nginx/conf.d (<a href="https://github.com/vabene1111/recipes/tree/develop/nginx/conf.d">link</a>)</li>
<li>Download Recipes.conf to your conf.d folder (<a href="https://raw.githubusercontent.com/TandoorRecipes/recipes/develop/nginx/conf.d/Recipes.conf">direct link</a>)</li>
<li>Open https://github.com/vabene1111/recipes/blob/develop/.env.template (<a href="https://github.com/vabene1111/recipes/blob/develop/.env.template">link</a>)</li>
<li>Copy the text and save it as <code>.env</code> to your recipes folder (no filename extension!)</li>
<li>Add a <code>POSTGRES_PASSWORD</code></li>
<li>Once done, it should look like this:</li>
</ul>
<p><img alt="grafik" src="https://user-images.githubusercontent.com/66269214/84471828-75319400-ac86-11ea-97e1-42bcb166720e.png" /></p>
<h3 id="3-edit-docker-composeyml">3. Edit docker-compose.yml</h3>
<ul>
<li>Open docker-compose.yml in a text editor</li>
<li>This file tells docker how to setup recipes. Docker will create three containers for recipes to work, recipes, nginx and postgresql. They are all required and need to store and share data through the folders you created before.</li>
<li>Edit line 26, this line specifies which external synology port will point to which internal docker port. Chose a free port to use and replace the first number with it. You will open recipes by browsing to http://your.synology.ip:chosen.port, e.g. http://192.168.1.1:2000</li>
<li>If you want to use port 2000 you would edit to 2000:80</li>
</ul>
<h3 id="4-ssh-into-your-synology">4. SSH into your Synology</h3>
<ul>
<li>You need to access your Synology through SSH </li>
<li>Execute following commands</li>
<li><code>ssh root@your.synology.ip</code>   connect to your synology. root password is the same as admin password, sometimes root access is not possible for whatever reason, then replace root with admin</li>
<li><code>cd /volume1/docker/recipes</code>  access the folder where you store docker-compose.yml</li>
<li><code>docker-compose up -d</code>        this starts your containers according to your docker-compose.yml. if you logged in with admin you will have to use  <code>sudo docker-compose up -d</code> instead, it will ask for the admin password again. </li>
<li>This output tells you all 3 containers have been setup
<div class="highlight"><pre><span></span><code>...
Creating recipes_nginx_recipes_1 ... done
Creating recipes_db_recipes_1    ... done
Creating recipes_web_recipes_1   ... done
</code></pre></div></li>
<li>Browse to 192.168.1.1:2000 or whatever your IP and port are</li>
<li>While the containers are starting and doing whatever they need to do, you might still get HTTP errors e.g. 500 or 502. Just be patient and try again in a moment</li>
</ul>
<h3 id="5-firewall">5. Firewall</h3>
<p>You need to set up firewall rules in order for the recipes_web container to be able to connect to the recipes_db container.</p>
<ul>
<li>Control Panel -&gt; Security -&gt; Firewall -&gt; Edit Rules -&gt; Create<ul>
<li>Ports: All</li>
<li>Source IP: Specific IP -&gt; Select -&gt; Subnet<ul>
<li>insert docker network ip (can be found in the docker application, network tab)</li>
<li>Example: IP address: 172.18.0.0 and Subnet mask/Prefix length: 255.255.255.0</li>
</ul>
</li>
<li>Action: Allow</li>
</ul>
</li>
<li>Save and make sure it's above the deny rules</li>
</ul>
<h3 id="6-additional-ssl-setup">6. Additional SSL Setup</h3>
<p>Easiest way is to do it via Reverse Proxy.</p>
<ul>
<li>Control Panel -&gt; Login Portal (renamed Since DSM 7, previously Application Portal) -&gt; Advanced -&gt; Reverse Proxy</li>
<li>Create<ul>
<li>insert name</li>
<li>Source:<ul>
<li>Protocol: HTTPS</li>
<li>Hostname: URL if you access from outside, otherwise ip in network</li>
<li>Port: The port you want to access, has to be a different one that the one in the docker-compose file</li>
<li>HSTS can be enabled</li>
</ul>
</li>
<li>Destination:<ul>
<li>Protocol: HTTP</li>
<li>Hostname: localhost</li>
<li>Port: port in docker-compose file</li>
</ul>
</li>
<li>Click on Custom Header and press Create -&gt; Websocket</li>
<li>Save</li>
</ul>
</li>
<li>Control Panel -&gt; Security -&gt; Firewall -&gt; Edit Rules -&gt; Create<ul>
<li>Ports: Select form a list of built-in applications -&gt; Select -&gt; You find your Reverse Proxy, enable it</li>
<li>Source IP: Depends, All allows access from outside, i use specific to only connect in my network</li>
<li>Action: Allow</li>
</ul>
</li>
<li>Save and make sure it's above the deny rules</li>
</ul>
<p>[Deprecated, Note: ssl Path changed for DSM 7]
6.1 Additional SSL Setup 
- create folder <code>ssl</code> inside <code>nginx</code> folder
    - download your ssl certificate from <code>security</code> tab in dsm <code>control panel</code>
    - or create a task in <code>task manager</code> because Synology will update the certificate every few months
        - set task to repeat every day
        - in the script write:
        <div class="highlight"><pre><span></span><code>SRC=&quot;/usr/syno/etc/certificate/system/default&quot;
DEST=&quot;/volume1/docker/recipes/nginx/ssl/&quot;
if [ ! -f &quot;$DEST/fullchain.pem&quot; ] || [ &quot;$SRC/fullchain.pem&quot; -nt &quot;$DEST/fullchain.pem&quot; ]; then
cp &quot;$SRC/fullchain.pem&quot; &quot;$DEST/&quot;
cp &quot;$SRC/privkey.pem&quot; &quot;$DEST/&quot;
chown root:root &quot;$DEST/fullchain.pem&quot; &quot;$DEST/privkey.pem&quot;
chmod 600 &quot;$DEST/fullchain.pem&quot; &quot;$DEST/privkey.pem&quot;
/usr/syno/bin/synowebapi --exec api=SYNO.Docker.Container version=1 method=restart name=recipes_nginx_recipes_1
fi
</code></pre></div>
- change <code>docker-compose.yml</code>
  add <code>- ./nginx/ssl:/etc/nginx/certs</code> to the <code>volumes</code> of <code>nginx_recipes</code></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>